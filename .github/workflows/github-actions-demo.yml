name: GitHub Actions Demo
run-name: ${{ github.actor }} is testing out GitHub Actions ðŸš€
on: [push]
# on: 
#     push:
#         branches: [main]

jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    # TODO: I guess I don't need to do this??
    # container:
    #     image: golang:1.21.5-bullseye
    steps:
      -
        name: Echo Build Info
        run: |
            echo "github.event_name - ${{ github.event_name }}"
            echo "runner.os - ${{ runner.os }}"
            echo "github.ref - ${{ github.ref }}"
            echo "github.repository - ${{ github.repository }}"
            echo "github.workspace - ${{ github.workspace }}"
            echo "job.status - ${{ job.status }}"       
      -
        name: Check out repo
        uses: actions/checkout@v4
      ##################### BUILD SETUP #####################
      -
        name: Setup Go
        uses: actions/setup-go@v4
        with:
          go-version: '>=1.20'
      -
        name: Install Dagger 
        run: go get dagger.io/dagger@latest
      # -
      #   name: Install Dagger CLI
      #   run: cd /usr/local && { curl -L https://dl.dagger.io/dagger/install.sh | sh; cd -; }
      ##################### BUILD #####################
      - name: Dagger Build
        run: |
            go run build_pipeline/*.go